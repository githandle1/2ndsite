<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>maya's sketchbook</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <!-- Preload critical background images -->
    <link rel="preload" as="image" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20'%3E%3Cpath d='M0 0h20v1H0zM0 0h1v20H0z' fill='%23d9d2c0'/%3E%3C/svg%3E">
    <style>
        /* Critical CSS for immediate background grid rendering */
        body {
            background-color: #f5f0e0 !important; /* Beige background for notebook paper */
            background-image: 
                linear-gradient(#d9d2c0 1px, transparent 1px),
                linear-gradient(90deg, #d9d2c0 1px, transparent 1px) !important;
            background-size: 20px 20px !important; /* Grid size */
            background-attachment: fixed !important;
            animation: fadeIn 0.5s ease-out;
        }
        
        /* Page entrance animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @-webkit-keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        /* Page entrance transition */
        .page-entrance {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #f0ece4;
            z-index: 9999;
            opacity: 1;
            pointer-events: none;
            will-change: opacity;
            transition: opacity 0.5s ease-out;
        }
        
        /* Special handling for page turn transition */
        .from-page-turn .page-entrance {
            opacity: 1;
            background-image: 
                linear-gradient(#d9d2c0 1px, transparent 1px),
                linear-gradient(90deg, #d9d2c0 1px, transparent 1px);
            background-size: 20px 20px;
            background-attachment: fixed;
            transition: opacity 0.5s ease-out;
        }
        
        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
            .page-entrance {
                animation-duration: 0.4s;
                -webkit-animation-duration: 0.4s;
            }
        }
        
        /* Immediate fix for Arc browser to show welcome window */
        @media (max-width: 768px) {
            html.mobile-view #about-window {
                display: block !important;
                opacity: 1 !important;
                visibility: visible !important;
                z-index: 10 !important;
            }
        }
    </style>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="mobile.css">
    <!-- Immediate fix for Arc browser to show welcome window -->
    <script>
        // This script runs immediately to ensure the welcome window is displayed on mobile
        (function() {
            // Check if we're on mobile
            const isMobile = window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Arc/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Add mobile-view class to html element
                document.documentElement.classList.add('mobile-view');
                
                // Create a style element to ensure about-window is displayed immediately
                const style = document.createElement('style');
                style.textContent = `
                    html.mobile-view #about-window {
                        display: block !important;
                        opacity: 1 !important;
                        visibility: visible !important;
                        z-index: 10 !important;
                    }
                `;
                document.head.appendChild(style);
            }
        })();
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const previouslyPlaying = sessionStorage.getItem('currentlyPlaying');
            const audioTime = parseFloat(sessionStorage.getItem('audioCurrentTime') || 0);
            
            if (previouslyPlaying) {
                console.log('Continuing playback from index.html:', previouslyPlaying);
                // Create a temporary audio element to continue playback
                const tempAudio = new Audio(previouslyPlaying);
                tempAudio.currentTime = audioTime;
                
                // Play the audio (this needs user interaction on some browsers)
                const playPromise = tempAudio.play();
                
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.log('Auto-play prevented. Will try to play when user interacts with the page.');
                        
                        // Add a one-time event listener for user interaction
                        const playOnInteraction = function() {
                            tempAudio.play().catch(e => console.error('Still could not play audio:', e));
                            document.removeEventListener('click', playOnInteraction);
                            document.removeEventListener('keydown', playOnInteraction);
                        };
                        
                        document.addEventListener('click', playOnInteraction);
                        document.addEventListener('keydown', playOnInteraction);
                    });
                }
                
                // Store reference to this audio element globally
                window.tempAudioFromIndex = tempAudio;
                
                // Update session storage as playback continues
                tempAudio.addEventListener('timeupdate', function() {
                    sessionStorage.setItem('audioCurrentTime', tempAudio.currentTime);
                });
                
                // When the audio ends, remove it from session storage
                tempAudio.addEventListener('ended', function() {
                    sessionStorage.removeItem('currentlyPlaying');
                    sessionStorage.removeItem('audioCurrentTime');
                });
            }
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'MS Sans Serif', monospace;
        }
        
        body {
            overflow: hidden;
            background-color: #f5f0e0; /* Beige background for notebook paper */
            background-image: 
                linear-gradient(#d9d2c0 1px, transparent 1px),
                linear-gradient(90deg, #d9d2c0 1px, transparent 1px);
            background-size: 20px 20px; /* Grid size */
            height: 100vh;
            width: 100vw;
            position: relative;
        }
        
        /* Stalogy-style date header */
        .date-header {
            position: absolute;
            top: 10px;
            right: 10px; /* Move to right-hand corner */
            font-size: 8.4px; /* Increased by 20% from 7px */
            color: #777; /* Changed back to gray for regular dates */
            display: flex;
            flex-direction: column;
            background-color: rgba(245, 240, 224, 0.7); /* Changed back to semi-transparent background */
            padding: 4.8px 9.6px; /* Increased by 20% from 4px 8px */
            border-radius: 0;
            z-index: 10;
            font-family: 'Courier New', monospace;
            letter-spacing: -0.2px;
            line-height: 1.2;
            margin-left: 0; /* Remove left margin */
        }
        
        .month-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 3.6px; /* Increased by 20% from 3px */
            font-size: 7.2px; /* Increased by 20% from 6px */
            text-transform: uppercase;
            gap: 2.4px; /* Increased by 20% from 2px */
        }
        
        .month {
            width: 16.8px; /* Increased by 20% from 14px */
            text-align: center;
            opacity: 0.6;
        }
        
        .current-month {
            font-weight: bold;
            opacity: 1;
        }
        
        .day-row {
            display: grid;
            grid-template-columns: repeat(31, 9.6px); /* Increased by 20% from 8px */
            gap: 2.4px; /* Increased by 20% from 2px */
            width: 372px; /* Increased by 20% from 310px */
        }
        
        .day {
            width: 9.6px; /* Increased by 20% from 8px */
            text-align: center;
            opacity: 0.6;
            font-size: 7.2px; /* Increased by 20% from 6px */
        }
        
        .current-day {
            font-weight: bold;
            opacity: 1;
        }
        
        /* Add a subtle paper texture overlay */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: linear-gradient(rgba(245, 240, 224, 0.5), rgba(245, 240, 224, 0.5)),
                              url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==');
            opacity: 0.15;
            pointer-events: none;
            z-index: -1;
        }
        
        /* Desktop icons */
        .desktop-icons {
            position: absolute;
            top: 60px; /* Add 20% more vertical spacing from the top */
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* Mobile menu for small screens */
        .mobile-menu {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #f5f0e0;
            border-top: 1px solid #d9d2c0;
            padding: 10px;
            z-index: 1000;
        }
        
        .mobile-icons {
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        
        .mobile-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
        }
        
        .mobile-icon .filled-dot {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        /* Media queries for responsive design */
        @media (max-width: 768px) {
            .desktop-icons {
                display: none;
            }
            
            .mobile-menu {
                display: block;
            }
            
            .window {
                width: 100% !important;
                height: calc(100% - 60px) !important;
                top: 0 !important;
                left: 0 !important;
                border-radius: 0 !important;
            }
            
            .resize-handle {
                display: none !important;
            }
            
            .window-content {
                height: calc(100% - 22px) !important;
                overflow-y: auto !important;
            }
            
            .profile-image {
                max-width: 100% !important;
            }
            
            .playlist-container {
                max-height: 200px !important;
                overflow-y: auto !important;
            }
        }
        
        .filled-dot {
            font-size: 24px;
            text-align: center;
            margin: 0 auto;
            display: block;
            line-height: 1;
        }
        
        .icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 70px;
            text-align: center;
            cursor: pointer;
        }
        
        .icon img {
            width: 40px;
            height: 40px;
            margin-bottom: 5px;
        }
        
        .icon-label {
            color: #333333;
            font-size: 12px;
            text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.9);
            background-color: transparent;
            padding: 2px 4px;
            border-radius: 3px;
            position: relative;
        }
        
        /* Remove specific styling for "what i'm saving" icon */
        /* .icon[onclick*="cosmos.so/babka"] .icon-label {
            border: none;
            background-color: transparent;
            padding: 2px 6px;
            text-shadow: none;
            position: relative;
        } */
        
        /* Add butter yellow paint stroke that will appear on click */
        .icon-label::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -2px;
            width: 100%;
            height: 4px;
            background-color: #f9e04c; /* Butter yellow paint stroke */
            z-index: -1;
            border-radius: 2px;
            opacity: 0; /* Hide by default */
            transition: opacity 0.2s ease; /* Smooth transition */
        }
        
        /* Show the paint stroke for the active icon */
        .icon.active .icon-label::after {
            opacity: 1;
        }
        
        /* Windows */
        .window {
            position: absolute;
            background-color: #c0c0c0;
            border: 2px solid;
            border-color: #ffffff #F7C9C3 #F7C9C3 #ffffff;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            min-width: 300px;
            min-height: 200px;
            display: none;
            z-index: 1;
            overflow: hidden;
            margin-top: 50px; /* Added margin-top to push windows down */
        }
        
        .about-window {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 700px;
            height: 550px;
        }
        
        .winamp-window {
            top: 50px;
            right: 50px;
            width: 275px;
            height: 400px;
        }
        
        .title-bar {
            background-color: #F7C9C3; /* Pale pink color */
            padding: 3px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: grab;
            color: #333; /* Dark text for better contrast */
            font-weight: bold;
            font-family: monospace;
        }
        
        .title-bar-text {
            font-size: 14px;
            font-family: monospace;
        }
        
        .title-bar-controls {
            display: flex;
            gap: 2px;
        }
        
        .title-bar-controls button {
            width: 16px;
            height: 14px;
            background-color: #c0c0c0;
            border: 1px solid;
            border-color: #ffffff #808080 #808080 #ffffff;
            font-size: 9px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            color: black;
        }
        
        .window-content {
            padding: 10px;
            height: calc(100% - 22px);
            overflow-y: scroll;
            background-color: white;
            -webkit-overflow-scrolling: touch;
        }
        
        .about-content {
            display: flex;
            flex-direction: column;
            height: 100%;
            padding: 10px;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .about-header {
            font-size: 32px;
            margin-bottom: 20px;
            text-align: center;
            font-family: monospace;
            font-weight: bold;
        }
        
        .about-main {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        
        .profile-section {
            width: 100%;
            max-width: 518px;
            border: none;
            padding: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .profile-box {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin-top: 60px; /* Add 20% more vertical spacing from the top */
        }
        
        .profile-label {
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 16px;
        }
        
        .profile-icon {
            width: 60px;
            height: 60px;
            background-color: #f0f0f0;
            border: 1px solid #000;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #000;
            font-size: 24px;
        }
        
        .profile-image {
            width: 100%;
            max-width: 518px;
            height: auto;
            object-fit: contain;
            border: none;
            background-color: transparent;
        }
        
        .content-section {
            width: 100%;
        }
        
        .intro-text {
            margin-bottom: 15px;
            font-size: 16px;
            line-height: 1.4;
        }
        
        .section-heading {
            font-weight: bold;
            margin: 10px 0 5px;
            font-size: 16px;
            text-transform: uppercase;
        }
        
        .highlights-list {
            margin-left: 0;
            list-style-type: none;
        }
        
        .highlights-list li {
            margin-bottom: 15px;
            font-size: 14px;
            line-height: 1.4;
            position: relative;
            padding-left: 15px;
        }
        
        .highlights-list li:before {
            content: "‚Ä¢";
            position: absolute;
            left: 0;
            top: 0;
        }
        
        .highlights-list li strong {
            font-size: 16px;
            display: block;
            margin-bottom: 5px;
        }
        
        .highlights-list a {
            color: blue;
            text-decoration: underline;
        }
        
        /* Winamp styling */
        .winamp-player {
            width: 100%;
            height: 100%;
            background-color: #f5f2e8; /* Pale beige background */
            display: flex;
            flex-direction: column;
        }
        
        .winamp-header {
            background-color: #f5f2e8; /* Pale beige background */
            padding: 5px;
            color: #333; /* Darker text for contrast */
            font-size: 12px; /* Smaller than the title-bar-text (14px) */
            font-family: monospace;
        }
        
        .winamp-controls {
            display: flex;
            background-color: #ebe6d9; /* Slightly darker beige for controls */
            padding: 5px;
        }
        
        .winamp-controls button {
            width: 20px;
            height: 20px;
            margin-right: 5px;
            background-color: #e0daca; /* Button background */
            border: 1px solid #ccc;
            color: #333; /* Darker text for contrast */
            font-size: 10px;
        }
        
        .winamp-playlist {
            flex: 1;
            background-color: #f5f2e8; /* Pale beige background */
            color: #333; /* Darker text for contrast */
            font-size: 10px;
            padding: 5px;
            overflow-y: auto;
        }
        
        .playlist-item {
            padding: 2px 5px;
            border-bottom: 1px solid #e0daca;
        }
        
        .playlist-item.active {
            background-color: #F7C9C3; /* Pale pink for active item to match title bar */
            color: #333;
        }
        
        .winamp-equalizer {
            height: 60px;
            background-color: #e0daca;
            border-top: 1px solid #ccc;
            padding: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        
        #visualizer {
            width: 100%;
            height: 100%;
            display: block;
        }
        
        /* Chat Window Styling */
        .chat-window {
            top: 100px;
            left: 100px;
            width: 400px;
            height: 350px;
        }
        
        .chat-content {
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: white;
            border: 1px solid #ccc;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
        }
        
        .message {
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 5px;
            max-width: 80%;
            word-wrap: break-word;
            position: relative;
        }
        
        .user-message {
            background-color: #e6f7ff;
            align-self: flex-end;
            margin-left: auto;
            border: 1px solid #b3e0ff;
        }
        
        .maya-message {
            background-color: #f0f0f0;
            align-self: flex-start;
            border: 1px solid #d9d9d9;
        }
        
        .typing-indicator {
            display: flex;
            padding: 8px;
            border-radius: 5px;
            background-color: #f0f0f0;
            align-self: flex-start;
            margin-bottom: 10px;
            border: 1px solid #d9d9d9;
        }
        
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #999;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-indicator span:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0); }
        }
        
        .chat-input-container {
            display: flex;
            padding: 5px;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
        }
        
        .chat-input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 14px;
            margin-right: 5px;
        }
        
        .chat-send-btn {
            padding: 8px 15px;
            background-color: #d4d0c8;
            border: 2px solid;
            border-color: #ffffff #808080 #808080 #ffffff;
            cursor: pointer;
            font-size: 14px;
        }
        
        .chat-send-btn:active {
            border-color: #808080 #ffffff #ffffff #808080;
        }
        
        /* Resize handles */
        .resize-handle {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: transparent;
            z-index: 20;
        }
        
        .resize-handle.se {
            bottom: 0;
            right: 0;
            cursor: nwse-resize;
        }
        
        .resize-handle.sw {
            bottom: 0;
            left: 0;
            cursor: nesw-resize;
        }
        
        .resize-handle.ne {
            top: 0;
            right: 0;
            cursor: nesw-resize;
        }
        
        .resize-handle.nw {
            top: 0;
            left: 0;
            cursor: nwse-resize;
        }
        
        .window-button:active {
            border-color: #ffffff #F7C9C3 #F7C9C3 #ffffff;
        }
        
        .nav-item.active {
            background-color: #F7C9C3; /* Pale pink for active item to match title bar */
            font-weight: bold;
        }
        
        .music-player-controls button:active {
            background-color: #F7C9C3;
        }
        
        /* Add styling for the current date to be highlighted in yellow */
        .date-header .current-month,
        .date-header .current-day {
            color: #f9e04c; /* Yellow color for the current date */
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!-- Page entrance transition -->
    <div class="page-entrance"></div>
    
    <!-- Stalogy-style date header -->
    <div class="date-header">
        <div class="month-row">
            <div class="month">Jan</div>
            <div class="month">Feb</div>
            <div class="month">Mar</div>
            <div class="month">Apr</div>
            <div class="month">May</div>
            <div class="month">Jun</div>
            <div class="month">Jul</div>
            <div class="month">Aug</div>
            <div class="month">Sep</div>
            <div class="month">Oct</div>
            <div class="month">Nov</div>
            <div class="month">Dec</div>
        </div>
        <div class="day-row">
            <div class="day">1</div>
            <div class="day">2</div>
            <div class="day">3</div>
            <div class="day">4</div>
            <div class="day">5</div>
            <div class="day">6</div>
            <div class="day">7</div>
            <div class="day">8</div>
            <div class="day">9</div>
            <div class="day">10</div>
            <div class="day">11</div>
            <div class="day">12</div>
            <div class="day">13</div>
            <div class="day">14</div>
            <div class="day">15</div>
            <div class="day">16</div>
            <div class="day">17</div>
            <div class="day">18</div>
            <div class="day">19</div>
            <div class="day">20</div>
            <div class="day">21</div>
            <div class="day">22</div>
            <div class="day">23</div>
            <div class="day">24</div>
            <div class="day">25</div>
            <div class="day">26</div>
            <div class="day">27</div>
            <div class="day">28</div>
            <div class="day">29</div>
            <div class="day">30</div>
            <div class="day">31</div>
        </div>
    </div>
    
    <!-- Desktop Icons -->
    <div class="desktop-icons">
        <div class="icon" onclick="toggleWindow('about-window')">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">welcome</div>
        </div>
        <div class="icon" onclick="window.open('https://mayascorner.notion.site/hi-i-m-maya-1a22bb286ed980bba588d6da0f922a3b?pvs=74', '_blank')">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">working<br>on</div>
        </div>
        <div class="icon" onclick="toggleWindow('winamp-window')">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">maya's<br>earbuds</div>
        </div>
        <div class="icon" onclick="window.open('https://www.cosmos.so/babka/fashion', '_blank')">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">what i'm<br>saving</div>
        </div>
        <div class="icon" onclick="toggleWindow('moodboard-window'); showNextMoodboardImage();">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">moodboard</div>
        </div>
        <div class="icon" onclick="window.location.href='mailto:mayabakir38@gmail.com'">
            <div class="filled-dot">üîñ</div>
            <div class="icon-label">say hi</div>
        </div>
    </div>
    
    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <div class="mobile-icons">
            <div class="mobile-icon" onclick="showMobileWindow('about-window'); updateActiveMobileIcon('about-window')">
                <div class="filled-dot">üîñ</div>
                <div>welcome</div>
            </div>
            <div class="mobile-icon" onclick="window.open('https://mayascorner.notion.site/hi-i-m-maya-1a22bb286ed980bba588d6da0f922a3b?pvs=74', '_blank')">
                <div class="filled-dot">üîñ</div>
                <div>working on</div>
            </div>
            <div class="mobile-icon" onclick="showMobileWindow('winamp-window'); updateActiveMobileIcon('winamp-window')">
                <div class="filled-dot">üîñ</div>
                <div>earbuds</div>
            </div>
            <div class="mobile-icon" onclick="window.open('https://www.cosmos.so/babka/fashion', '_blank')">
                <div class="filled-dot">üîñ</div>
                <div>saving</div>
            </div>
            <div class="mobile-icon" onclick="showMobileWindow('moodboard-window'); updateActiveMobileIcon('moodboard-window'); showNextMoodboardImage();">
                <div class="filled-dot">üîñ</div>
                <div>moodboard</div>
            </div>
            <div class="mobile-icon" onclick="window.location.href='mailto:mayabakir38@gmail.com'">
                <div class="filled-dot">üîñ</div>
                <div>say hi</div>
            </div>
        </div>
    </div>
    
    <!-- About Window -->
    <div id="about-window" class="window about-window">
        <div class="title-bar">
            <div class="title-bar-text">C://welcome</div>
            <div class="title-bar-controls">
                <button>_</button>
                <button>‚ñ°</button>
                <button onclick="toggleWindow('about-window')">√ó</button>
            </div>
        </div>
        <div class="window-content">
            <div class="about-content">
                <h1 class="about-header"></h1>
                <div class="about-main">
                    <div class="profile-section">
                        <div class="profile-box">
                            <img src="c'est moi!.png" alt="Profile Picture" class="profile-image">
                            <p class="profile-caption" style="color: #888; font-size: 12px; text-align: center; margin-top: 5px;">from <a href="https://os.ryo.lu" target="_blank" style="color: #888; text-decoration: none;">a friend's OS</a> ü™Ñ</p>
                        </div>
                    </div>
                    <div class="content-section">
                        <p class="intro-text">Hi, I'm Maya.<br><br>I'm working on bringing Notion to our next generation ‚ú®<br><br>Some things I love:<br><br>‚Üí <a href="https://open.spotify.com/playlist/1lUaZ2N7y7mlpPp80sapK4?si=a7c119b33dc340bf" target="_blank" style="color: inherit; text-decoration: none;" class="highlight-link">Music</a><br>‚Üí <a href="https://x.com/SnoopyPhotos/status/1898505018279448643" target="_blank" style="color: inherit; text-decoration: none;" class="highlight-link">Fashion</a><br>‚Üí <span class="highlight-link" style="cursor: pointer;">Stalogy notebooks</span><br><br><a href="mailto:mayabakir38@gmail.com" style="color: inherit; text-decoration: none;">Say hi :~)</a></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
    </div>
    
    <!-- Chat Window -->
    <div id="chat-window" class="window chat-window">
        <div class="title-bar">
            <div class="title-bar-text">C://chat_with_maya</div>
            <div class="title-bar-controls">
                <button>_</button>
                <button>‚ñ°</button>
                <button onclick="toggleWindow('chat-window')">√ó</button>
            </div>
        </div>
        <div class="window-content">
            <div class="chat-content">
                <div id="chat-messages" class="chat-messages">
                    <div class="message maya-message">
                        Hiya! I'm Maya's virtual assistant! Ask me anything and I'll respond in a totally casual and silly way! *does a little dance* üéâ
                    </div>
                </div>
                <div class="chat-input-container">
                    <input type="text" id="chat-input" class="chat-input" placeholder="Type your message here..." onkeypress="if(event.key === 'Enter') sendMessage()">
                    <button class="chat-send-btn" onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
    </div>
    
    <!-- Winamp Window -->
    <div id="winamp-window" class="window winamp-window">
        <div class="title-bar">
            <div class="title-bar-text">maya's earbuds</div>
            <div class="title-bar-controls">
                <button>_</button>
                <button>‚ñ°</button>
                <button onclick="toggleWindow('winamp-window')">√ó</button>
            </div>
        </div>
        <div class="window-content" style="padding: 0;">
            <div class="winamp-player">
                <div class="winamp-header">
                    warmth for your winter
                </div>
                <div class="winamp-controls">
                    <button>‚èÆ</button>
                    <button>‚ñ∂</button>
                    <button>‚èπ</button>
                    <button>‚è≠</button>
                </div>
                <div class="winamp-playlist">
                    <div class="playlist-item active">1. I Love Video - New Paradise</div>
                    <div class="playlist-item">2. Careless Whisper - George Michael</div>
                    <div class="playlist-item">3. Final Credits - Midland</div>
                    <div class="playlist-item">4. Get It Together - Drake, Black Coffee, Jorja Smith</div>
                    <div class="playlist-item">5. Opal - Four Tet Remix - BICEP, Four Tet</div>
                    <div class="playlist-item">6. Thousand Finger Man - Candido</div>
                </div>
                <div class="winamp-equalizer">
                    <canvas id="visualizer"></canvas>
                </div>
            </div>
        </div>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
        <div class="resize-handle ne"></div>
        <div class="resize-handle nw"></div>
    </div>
    
    <!-- Add the moodboard window before the closing body tag -->
    <div id="moodboard-window" class="window">
        <div class="title-bar">
            <div class="title-bar-text">C://moodboard</div>
            <div class="title-bar-controls">
                <button>_</button>
                <button>‚ñ°</button>
                <button onclick="toggleWindow('moodboard-window')">√ó</button>
            </div>
        </div>
        <div class="window-content moodboard-content" onclick="showNextMoodboardImage()">
            <div class="moodboard-container">
                <img id="moodboard-image" src="" alt="Moodboard Image">
            </div>
            <div class="moodboard-instructions">Click anywhere for next image</div>
        </div>
        <div class="resize-handle se"></div>
        <div class="resize-handle sw"></div>
    </div>

    <style>
        /* Moodboard Styles */
        #moodboard-window {
            width: 500px;
            height: 500px;
            top: 100px;
            left: 200px;
            display: none;
        }
        
        .moodboard-content {
            background-color: #f5f0e0;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            display: flex;
            flex-direction: column;
        }
        
        .moodboard-container {
            position: relative;
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        #moodboard-image {
            max-width: 85%;
            max-height: 85%;
            object-fit: contain;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: rotate(var(--random-rotation));
        }
        
        .moodboard-instructions {
            position: relative;
            padding: 8px;
            text-align: center;
            font-size: 12px;
            color: #666;
            background-color: #f5f0e0;
            border-top: 1px solid #e0dbd0;
            margin-top: auto;
        }
    </style>

    <script>
        // Moodboard functionality
        const moodboardImages = [
            'inspo board/a703ae15-bbdf-4e6e-befa-7200455f34b8.jpeg',
            'inspo board/a345aaca-e835-440f-aca2-106a1e510ee9.jpg',
            'inspo board/d6722d65-d5a3-47bc-a552-70d34dc1a009.jpg',
            'inspo board/e2a1ac3f-0994-4cb7-a544-f0bc1421a8f3.jpg',
            'inspo board/f4518efc-8f42-4fef-8919-f853ab8fd0c1.jpg',
            'inspo board/0fe49316-cbed-457f-9c68-2e69d26345fb.jpg',
            'inspo board/10ae61f8-2fb4-4821-af6c-2845d06c9654.jpg',
            'inspo board/6db6b60f-a068-4eea-a414-534329a6a7a2.jpg',
            'inspo board/0828d955-4cc1-40e7-b485-9ab1154107a3.jpg',
            'inspo board/4baf0dc6-13c4-405b-a1ec-3b25d420236c.jpg',
            'inspo board/a4e7da0b-efa0-447d-8c95-0c00f9a6c72e.jpg',
            'inspo board/82aeccf3-2c60-4b08-a344-83a7c1b59bd0.jpg'
        ];
        
        let currentImageIndex = -1;
        
        function showNextMoodboardImage() {
            const moodboardImage = document.getElementById('moodboard-image');
            const moodboardContainer = document.querySelector('.moodboard-container');
            
            // Move to next image (or loop back to first)
            currentImageIndex = (currentImageIndex + 1) % moodboardImages.length;
            
            // Set the image source
            moodboardImage.src = moodboardImages[currentImageIndex];
            
            // Generate random rotation for the image (-3 to 3 degrees for subtlety)
            const rotation = (Math.random() * 6 - 3).toFixed(1);
            
            // Apply the random rotation
            moodboardContainer.style.setProperty('--random-rotation', `${rotation}deg`);
            
            // Preload the next image
            if (moodboardImages.length > 1) {
                const nextIndex = (currentImageIndex + 1) % moodboardImages.length;
                const preloadImage = new Image();
                preloadImage.src = moodboardImages[nextIndex];
            }
        }
    </script>

    <!-- Include JavaScript files -->
    <script src="script.js"></script>
    <script src="mobile.js"></script>
    <script>
        // Function to toggle window visibility
        function toggleWindow(windowId) {
            const window = document.getElementById(windowId);
            if (window.style.display === 'none') {
                window.style.display = 'block';
            } else {
                window.style.display = 'none';
            }
        }
        
        // Show windows by default to match the image
        document.getElementById('about-window').style.display = 'block';
        
        // Only show winamp window by default on desktop, not on mobile
        if (!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768)) {
            document.getElementById('winamp-window').style.display = 'block';
        } else {
            document.getElementById('winamp-window').style.display = 'none';
        }
        
        document.getElementById('chat-window').style.display = 'none';
        
        // Make windows draggable
        function makeWindowDraggable(windowId) {
            const windowElement = document.getElementById(windowId);
            const titleBar = windowElement.querySelector('.title-bar');
            
            // Variables to track the initial click position relative to the window
            let offsetX = 0;
            let offsetY = 0;
            let isDragging = false;
            
            // Check if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile/i.test(navigator.userAgent);
            
            // Only make windows draggable on desktop
            if (!isMobile) {
                titleBar.onmousedown = startDrag;
                
                function startDrag(e) {
                    e = e || window.event;
                    e.preventDefault();
                    
                    // Calculate the initial offset between mouse position and window position
                    // We'll use the center of the title bar as the drag point
                    const titleBarRect = titleBar.getBoundingClientRect();
                    offsetX = titleBarRect.width / 2;
                    offsetY = titleBarRect.height / 2;
                    
                    isDragging = true;
                    
                    // Bring window to front
                    const windows = document.querySelectorAll('.window');
                    windows.forEach(win => {
                        win.style.zIndex = "1";
                    });
                    windowElement.style.zIndex = "10";
                    
                    // Add visual feedback that the window is being dragged
                    titleBar.style.cursor = "grabbing";
                    
                    // Set up event listeners for dragging and releasing
                    document.addEventListener('mousemove', dragWindow);
                    document.addEventListener('mouseup', stopDrag);
                    
                    // Initial positioning to prevent jump on first move
                    dragWindow(e);
                }
                
                function dragWindow(e) {
                    if (!isDragging) return;
                    
                    e.preventDefault();
                    
                    // Calculate the new position based on mouse position and offset
                    // This positions the window so the cursor is at the center of the title bar
                    let newLeft = e.clientX - offsetX;
                    let newTop = e.clientY - offsetY;
                    
                    // Get viewport dimensions
                    const viewportWidth = window.innerWidth;
                    const viewportHeight = window.innerHeight;
                    
                    // Get window dimensions
                    const windowWidth = windowElement.offsetWidth;
                    const windowHeight = windowElement.offsetHeight;
                    
                    // Add boundary constraints - keep at least 50px of the window visible
                    const minVisible = 50;
                    
                    // Constrain top position
                    if (newTop < 0 && newTop < -windowHeight + minVisible) {
                        newTop = -windowHeight + minVisible;
                    }
                    
                    if (newTop > viewportHeight - minVisible) {
                        newTop = viewportHeight - minVisible;
                    }
                    
                    // Constrain left position
                    if (newLeft < 0 && newLeft < -windowWidth + minVisible) {
                        newLeft = -windowWidth + minVisible;
                    }
                    
                    if (newLeft > viewportWidth - minVisible) {
                        newLeft = viewportWidth - minVisible;
                    }
                    
                    // Set the window's new position
                    windowElement.style.top = newTop + "px";
                    windowElement.style.left = newLeft + "px";
                }
                
                function stopDrag() {
                    isDragging = false;
                    titleBar.style.cursor = "grab";
                    document.removeEventListener('mousemove', dragWindow);
                    document.removeEventListener('mouseup', stopDrag);
                }
            } else {
                // For mobile, add touch event handlers for the title bar
                titleBar.addEventListener('touchstart', handleTouchStart, { passive: false });
                
                function handleTouchStart(e) {
                    // Don't drag if we're clicking on a button in the title bar
                    if (e.target.tagName === 'BUTTON') return;
                    
                    // Bring window to front
                    const windows = document.querySelectorAll('.window');
                    windows.forEach(win => {
                        win.style.zIndex = "1";
                    });
                    windowElement.style.zIndex = "10";
                    
                    // For mobile, we'll just use the title bar as a way to bring windows to front
                    // No dragging on mobile as windows are full-screen
                }
            }
        }
        
        // Make windows resizable
        function makeWindowResizable(windowId) {
            const windowElement = document.getElementById(windowId);
            const resizeHandles = windowElement.querySelectorAll('.resize-handle');
            
            resizeHandles.forEach(handle => {
                handle.addEventListener('mousedown', initResize);
            });
            
            function initResize(e) {
                e.preventDefault();
                
                const direction = e.target.classList[1]; // se, sw, ne, nw
                const startX = e.clientX;
                const startY = e.clientY;
                const startWidth = windowElement.offsetWidth;
                const startHeight = windowElement.offsetHeight;
                const startTop = windowElement.offsetTop;
                const startLeft = windowElement.offsetLeft;
                
                document.addEventListener('mousemove', resize);
                document.addEventListener('mouseup', stopResize);
                
                function resize(e) {
                    if (direction === 'se') {
                        const width = startWidth + (e.clientX - startX);
                        const height = startHeight + (e.clientY - startY);
                        if (width > 200) windowElement.style.width = width + 'px';
                        if (height > 100) windowElement.style.height = height + 'px';
                    } else if (direction === 'sw') {
                        const width = startWidth - (e.clientX - startX);
                        const height = startHeight + (e.clientY - startY);
                        const left = startLeft + (e.clientX - startX);
                        if (width > 200) {
                            windowElement.style.width = width + 'px';
                            windowElement.style.left = left + 'px';
                        }
                        if (height > 100) windowElement.style.height = height + 'px';
                    } else if (direction === 'ne') {
                        const width = startWidth + (e.clientX - startX);
                        const height = startHeight - (e.clientY - startY);
                        const top = startTop + (e.clientY - startY);
                        if (width > 200) windowElement.style.width = width + 'px';
                        if (height > 100) {
                            windowElement.style.height = height + 'px';
                            windowElement.style.top = top + 'px';
                        }
                    } else if (direction === 'nw') {
                        const width = startWidth - (e.clientX - startX);
                        const height = startHeight - (e.clientY - startY);
                        const top = startTop + (e.clientY - startY);
                        const left = startLeft + (e.clientX - startX);
                        if (width > 200) {
                            windowElement.style.width = width + 'px';
                            windowElement.style.left = left + 'px';
                        }
                        if (height > 100) {
                            windowElement.style.height = height + 'px';
                            windowElement.style.top = top + 'px';
                        }
                    }
                }
                
                function stopResize() {
                    document.removeEventListener('mousemove', resize);
                    document.removeEventListener('mouseup', stopResize);
                }
            }
        }
        
        // Initialize draggable windows
        makeWindowDraggable('about-window');
        makeWindowDraggable('winamp-window');
        makeWindowDraggable('chat-window');
        
        // Initialize resizable windows
        makeWindowResizable('about-window');
        makeWindowResizable('winamp-window');
        makeWindowResizable('chat-window');
        
        // Chat functionality
        function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            
            if (message) {
                // Add user message
                addMessage(message, 'user');
                
                // Clear input
                input.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Generate response after a short delay
                setTimeout(() => {
                    // Hide typing indicator
                    hideTypingIndicator();
                    
                    // Add Maya's response
                    const response = generateSillyResponse(message);
                    addMessage(response, 'maya');
                }, 1500);
            }
        }
        
        function showTypingIndicator() {
            const messagesContainer = document.getElementById('chat-messages');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typing-indicator';
            typingDiv.className = 'typing-indicator';
            typingDiv.innerHTML = '<span></span><span></span><span></span>';
            messagesContainer.appendChild(typingDiv);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chat-messages');
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(sender === 'user' ? 'user-message' : 'maya-message');
            
            // Add emoji to the beginning of Maya's messages
            if (sender === 'maya') {
                const emojis = ['üòä', 'üéâ', '‚ú®', 'üíÅ‚Äç‚ôÄÔ∏è', 'üåà', 'ü§©', 'üòé', 'ü§ó', 'üí´', 'üîÆ'];
                const randomEmoji = emojis[Math.floor(Math.random() * emojis.length)];
                text = randomEmoji + ' ' + text;
            }
            
            messageDiv.textContent = text;
            
            messagesContainer.appendChild(messageDiv);
            
            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function generateSillyResponse(message) {
            // Convert message to lowercase for easier matching
            const lowerMessage = message.toLowerCase();
            
            // Check for specific keywords and provide tailored responses
            if (lowerMessage.includes('name') || lowerMessage.includes('who are you')) {
                return "I'm Maya's super silly digital mini-me! Not the REAL Maya (she's way cooler), but I try my best to channel her vibes! *strikes a pose* ‚ú®";
            }
            else if (lowerMessage.includes('notion') || lowerMessage.includes('work')) {
                return "OMG, Notion is like Maya's JAM! üéµ She's bringing it to students EVERYWHERE! *does excited dance* She's scaled to over 10M students globally and is basically a Notion wizard! üßô‚Äç‚ôÄÔ∏è";
            }
            else if (lowerMessage.includes('music') || lowerMessage.includes('song') || lowerMessage.includes('playlist')) {
                return "Have you checked out Maya's earbuds?! *points dramatically* That's where the GOOD stuff is! Maya's got the BEST taste in music! From George Michael to Drake, she's all about those vibes! üéß";
            }
            else if (lowerMessage.includes('hobby') || lowerMessage.includes('interest') || lowerMessage.includes('like')) {
                return "Ooooh, you wanna know what Maya's into? *wiggles eyebrows* Check out that 'what i'm saving' icon! It's like a treasure trove of Maya-ness! So many cool things in there! üåà";
            }
            else if (lowerMessage.includes('contact') || lowerMessage.includes('email') || lowerMessage.includes('reach')) {
                return "Wanna chat with the REAL Maya? *whispers dramatically* Just click around and explore! This whole playspace is like a portal to Maya's world! ‚úâÔ∏è";
            }
            else if (lowerMessage.includes('education') || lowerMessage.includes('student') || lowerMessage.includes('school')) {
                return "Education is Maya's THING! üìö She's scaled Notion to over 10M students and grew their student org program from zero to 13K+ orgs across 4K universities! Talk about IMPACT! *mind blown gesture* ü§Ø";
            }
            else if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return "Hiiiiiii there! *waves frantically* Welcome to Maya's digital playground! What can I help you with today? I'm SO excited you're here! üéâ";
            }
            else if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
                return "No problemo! *finger guns* That's what I'm here for! Anything else you wanna know about the amazing Maya? I've got ALL the silly answers! üòé";
            }
            
            // Array of generic silly responses for when no keywords match
            const sillyResponses = [
                "OMG, that's like, totally a great question! *twirls hair* Let me think... ü§î",
                "Wowzers! I was JUST thinking about that! Cosmic connection much?? ‚ú®",
                "Hehe, that's a fun one! *does jazz hands* Let me tell ya...",
                "Well, well, well... look who's asking the REAL questions! You're too smart for your own good! üß†",
                "*drops everything dramatically* Did you just ask me THAT?! I'm obsessed with this topic!",
                "Ooooh, spicy question! *virtual high five* Maya would say...",
                "That's such a Maya thing to ask about! She's rubbing off on you! üåü",
                "*virtual confetti toss* Congratulations on asking the BEST question of the day!",
                "Hmm, let me channel my inner Maya wisdom... *makes meditation sounds* Ommm...",
                "If I had a cookie for every time someone asked me that... I'd have exactly ONE cookie! You're unique! üç™",
                "PLOT TWIST! I was hoping someone would ask that! *dramatic gasp* Let me enlighten you...",
                "That question is giving me LIFE right now! *dances around* Maya would be so proud of you for asking!",
                "Hold onto your socks, 'cause this answer might just blow them off! *takes deep breath*",
                "Oooh, getting all curious on me, are we? I LOVE IT! *virtual shoulder shimmy*",
                "That's the kind of question that makes my digital brain go all sparkly! ‚ú® Let me ponder..."
            ];
            
            // Pick a random response
            const randomResponse = sillyResponses[Math.floor(Math.random() * sillyResponses.length)];
            
            return randomResponse;
        }
        
        // Music player functionality - Simplified implementation
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded - initializing music player');
            
            // Get UI elements
            const playlistItems = document.querySelectorAll('.playlist-item');
            const playButton = document.querySelector('.winamp-controls button:nth-child(2)');
            const stopButton = document.querySelector('.winamp-controls button:nth-child(3)');
            const prevButton = document.querySelector('.winamp-controls button:nth-child(1)');
            const nextButton = document.querySelector('.winamp-controls button:nth-child(4)');
            
            // Music files
            const musicFiles = [
                'music/SpotiDownloader.com - I Love Video - New Paradise.mp3',
                'music/SpotiDown.App - Careless Whisper - George Michael.mp3',
                'music/SpotiDown.App - Final Credits - Midland.mp3',
                'music/SpotiDown.App - Get It Together - Drake, Black Coffee, Jorja Smith.mp3',
                'music/SpotiDown.App - Opal - Four Tet Remix - BICEP, Four Tet.mp3',
                'music/SpotiDown.App - Thousand Finger Man - Candido.mp3'
            ];
            
            // Player state
            let currentTrack = 0;
            let isPlaying = false;
            let audio = new Audio();
            audio.load(); // Ensure audio is loaded
            
            // Make audio and currentTrack globally accessible for mobile.js
            window.audio = audio;
            window.currentTrack = currentTrack;
            
            // Initialize audio visualization
            let audioContext = null;
            let analyser = null;
            let dataArray = null;
            let animationId = null;
            
            // Get canvas for visualization
            const canvas = document.getElementById('visualizer');
            const canvasCtx = canvas.getContext('2d');
            
            // Set canvas dimensions
            canvas.width = canvas.clientWidth;
            canvas.height = canvas.clientHeight;
            
            // Function to initialize audio context and analyzer
            function setupAudioContext() {
                try {
                    // Create audio context if it doesn't exist
                    if (!audioContext) {
                        audioContext = new (window.AudioContext || window.webkitAudioContext)();
                        analyser = audioContext.createAnalyser();
                        analyser.fftSize = 256; // Power of 2, affects visualization detail
                        
                        // Connect audio to analyser
                        const source = audioContext.createMediaElementSource(audio);
                        source.connect(analyser);
                        analyser.connect(audioContext.destination);
                        
                        // Create data array for visualization
                        dataArray = new Uint8Array(analyser.frequencyBinCount);
                        
                        console.log('Audio context initialized successfully');
                    }
                    return true;
                } catch (error) {
                    console.error('Error setting up audio context:', error);
                    return false;
                }
            }
            
            // Draw static visualization (when not playing)
            function drawStaticVisualization() {
                // Clear canvas
                canvasCtx.fillStyle = '#e0daca';
                canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw static line
                canvasCtx.fillStyle = '#F7C9C3';
                canvasCtx.fillRect(0, canvas.height / 2, canvas.width, 2);
            }
            
            // Draw waveform visualization
            function drawWaveform() {
                // Cancel any existing animation
                if (animationId) {
                    cancelAnimationFrame(animationId);
                }
                
                // If not playing or no audio context, show static visualization
                if (!isPlaying || !audioContext || !analyser) {
                    drawStaticVisualization();
                    return;
                }
                
                // Request next animation frame
                animationId = requestAnimationFrame(drawWaveform);
                
                // Get time domain data
                analyser.getByteTimeDomainData(dataArray);
                
                // Clear canvas
                canvasCtx.fillStyle = '#e0daca';
                canvasCtx.fillRect(0, 0, canvas.width, canvas.height);
                
                // Draw waveform
                canvasCtx.lineWidth = 2;
                canvasCtx.strokeStyle = '#F7C9C3';
                canvasCtx.beginPath();
                
                const sliceWidth = canvas.width / dataArray.length;
                let x = 0;
                
                for (let i = 0; i < dataArray.length; i++) {
                    const v = dataArray[i] / 128.0;
                    const y = v * canvas.height / 2;
                    
                    if (i === 0) {
                        canvasCtx.moveTo(x, y);
                    } else {
                        canvasCtx.lineTo(x, y);
                    }
                    
                    x += sliceWidth;
                }
                
                canvasCtx.lineTo(canvas.width, canvas.height / 2);
                canvasCtx.stroke();
            }
            
            // Enhanced audio player implementation
            function loadAndPlayTrack(index) {
                try {
                    // Update current track index
                    currentTrack = index;
                    window.currentTrack = index; // Update global reference for mobile.js
                    
                    // Update UI
                    playlistItems.forEach((item, i) => {
                        item.classList.toggle('active', i === index);
                    });
                    
                    // Set audio source
                    audio.src = musicFiles[index];
                    
                    // Ensure audio is loaded before playing
                    audio.load();
                    
                    // Setup audio context if not already done
                    if (!audioContext) {
                        setupAudioContext();
                    }
                    
                    // Play audio with proper error handling
                    const playPromise = audio.play();
                    
                    if (playPromise !== undefined) {
                        playPromise.then(() => {
                            console.log('Playing track:', musicFiles[index]);
                            isPlaying = true;
                            playButton.innerHTML = '‚è∏';
                            
                            // Ensure the audio context is running (needed for Chrome)
                            if (audioContext && audioContext.state === 'suspended') {
                                audioContext.resume().then(() => {
                                    console.log('AudioContext resumed successfully');
                                    // Start visualization
                                    drawWaveform();
                                });
                            } else {
                                // Start visualization
                                drawWaveform();
                            }
                        }).catch(error => {
                            console.error('Error playing audio:', error);
                            isPlaying = false;
                            playButton.innerHTML = '‚ñ∂';
                            
                            // Show user-friendly error message
                            if (error.name === 'NotAllowedError') {
                                alert('Please interact with the page first to enable audio playback');
                            } else {
                                alert('Error playing audio: ' + error.message);
                            }
                        });
                    }
                } catch (error) {
                    console.error('Error in loadAndPlayTrack:', error);
                    alert('Error: ' + error.message);
                }
            }
            
            // Initialize first track
            audio.src = musicFiles[0];
            
            // Draw initial static visualization
            drawStaticVisualization();
            
            // Event listeners
            playButton.addEventListener('click', function() {
                console.log('Play button clicked');
                
                // Setup audio context on first click if not already done
                if (!audioContext) {
                    setupAudioContext();
                }
                
                if (isPlaying) {
                    audio.pause();
                    isPlaying = false;
                    playButton.innerHTML = '‚ñ∂';
                    console.log('Audio paused');
                    
                    // Stop visualization
                    if (animationId) {
                        cancelAnimationFrame(animationId);
                        drawStaticVisualization();
                    }
                } else {
                    loadAndPlayTrack(currentTrack);
                }
            });
            
            stopButton.addEventListener('click', function() {
                audio.pause();
                audio.currentTime = 0;
                isPlaying = false;
                playButton.innerHTML = '‚ñ∂';
                console.log('Audio stopped');
                
                // Stop visualization
                if (animationId) {
                    cancelAnimationFrame(animationId);
                    drawStaticVisualization();
                }
            });
            
            nextButton.addEventListener('click', function() {
                let next = currentTrack + 1;
                if (next >= musicFiles.length) next = 0;
                loadAndPlayTrack(next);
            });
            
            prevButton.addEventListener('click', function() {
                let prev = currentTrack - 1;
                if (prev < 0) prev = musicFiles.length - 1;
                loadAndPlayTrack(prev);
            });
            
            // Playlist item click
            playlistItems.forEach((item, index) => {
                item.addEventListener('click', function() {
                    loadAndPlayTrack(index);
                });
            });
            
            // When track ends, play next
            audio.addEventListener('ended', function() {
                let next = currentTrack + 1;
                if (next >= musicFiles.length) next = 0;
                loadAndPlayTrack(next);
            });
            
            // Debug events
            audio.addEventListener('error', function(e) {
                console.error('Audio error:', e);
                alert('Error with audio: ' + (e.target.error ? e.target.error.message : 'Unknown error'));
            });
            
            audio.addEventListener('canplay', function() {
                console.log('Audio can play now');
            });
            
            audio.addEventListener('playing', function() {
                console.log('Audio is now playing');
                isPlaying = true;
            });
            
            audio.addEventListener('pause', function() {
                console.log('Audio is now paused');
                isPlaying = false;
            });
        });
        
        // Add click handling for desktop icons
        document.addEventListener('DOMContentLoaded', function() {
            const icons = document.querySelectorAll('.icon');
            
            icons.forEach(icon => {
                icon.addEventListener('click', function() {
                    // Remove active class from all icons
                    icons.forEach(i => i.classList.remove('active'));
                    
                    // Add active class to clicked icon
                    this.classList.add('active');
                    
                    // Execute the original onclick function if it exists
                    const originalOnclick = this.getAttribute('onclick');
                    if (originalOnclick) {
                        // We still want the original onclick to execute
                        // The active class will remain until another icon is clicked
                    }
                });
            });
        });

        // Function to detect mobile devices and adjust UI
        function detectMobileAndAdjustUI() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // Add mobile class to body for CSS targeting
                document.body.classList.add('mobile-device');
                
                // Show mobile menu
                const mobileMenu = document.querySelector('.mobile-menu');
                if (mobileMenu) {
                    mobileMenu.style.display = 'block';
                }
                
                // Hide desktop icons
                const desktopIcons = document.querySelector('.desktop-icons');
                if (desktopIcons) {
                    desktopIcons.style.display = 'none';
                }
                
                // Adjust date header for mobile
                const dateHeader = document.querySelector('.date-header');
                if (dateHeader) {
                    dateHeader.style.top = '5px';
                    dateHeader.style.right = '5px';
                    dateHeader.style.fontSize = '6px';
                    dateHeader.style.padding = '3px 6px';
                }
                
                // Show about window by default on mobile
                toggleWindow('about-window');
            }
        }
        
        // Call the function when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            detectMobileAndAdjustUI();
            
            // Add click effect for highlight links
            const highlightLinks = document.querySelectorAll('.highlight-link');
            
            highlightLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    // Don't prevent default for actual links, only for the span
                    if (this.tagName.toLowerCase() === 'span') {
                        e.preventDefault();
                    }
                    
                    // Store original color
                    const originalColor = this.style.color || 'inherit';
                    
                    // Change to pale pink
                    this.style.color = '#F7C9C3';
                    
                    // Revert back after 500ms
                    setTimeout(() => {
                        this.style.color = originalColor;
                    }, 500);
                });
            });
            
            // Update the date header to highlight current month and day
            const now = new Date();
            const currentMonth = now.getMonth(); // 0-11
            const currentDay = now.getDate() - 1; // 0-30
            
            // Highlight current month
            const months = document.querySelectorAll('.month');
            if (months[currentMonth]) {
                months[currentMonth].classList.add('current-month');
            }
            
            // Highlight current day
            const days = document.querySelectorAll('.day');
            if (days[currentDay]) {
                days[currentDay].classList.add('current-day');
            }
        });
        
        // Handle orientation changes
        window.addEventListener('orientationchange', detectMobileAndAdjustUI);
        
        // Handle resize events for switching between mobile and desktop
        window.addEventListener('resize', function() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
            const wasMobile = document.body.classList.contains('mobile-device');
            
            // If switching between mobile and desktop
            if ((isMobile && !wasMobile) || (!isMobile && wasMobile)) {
                location.reload();
            }
        });

        // Check if user is on a mobile device
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
        
        // Add mobile-view class to html element if on mobile
        if (isMobile) {
            document.documentElement.classList.add('mobile-view');
        }
        
        // Check if coming from a page turn
        if (sessionStorage.getItem('fromPageTurn')) {
            document.documentElement.classList.add('from-page-turn');
            sessionStorage.removeItem('fromPageTurn'); // Clear the flag
        }

        // Add this script at the end of the body
        document.addEventListener('DOMContentLoaded', function() {
            // Get the page entrance element
            const pageEntranceElement = document.querySelector('.page-entrance');
            if (!pageEntranceElement) return;
            
            // Apply GPU acceleration
            pageEntranceElement.style.willChange = 'opacity';
            
            // Restore scroll position if coming from page turn
            const savedScrollPosition = sessionStorage.getItem('scrollPosition');
            if (savedScrollPosition) {
                window.scrollTo(0, parseInt(savedScrollPosition));
                sessionStorage.removeItem('scrollPosition');
            }
            
            // Fade out after a short delay
            setTimeout(() => {
                // Simple fade out
                pageEntranceElement.style.opacity = '0';
                
                // Remove the element after the transition completes
                setTimeout(() => {
                    pageEntranceElement.remove();
                    document.documentElement.classList.remove('from-page-turn');
                }, 500); // Match the transition duration
            }, 200); // Short delay before starting the animation
        });

        // Handle back button navigation
        window.addEventListener('pageshow', function(event) {
            // This triggers even when navigating back via browser history
            if (event.persisted) {
                console.log('Page loaded from cache (back navigation)');
                // Force a refresh of the page to ensure all elements are properly initialized
                window.location.reload();
            }
        });

        // Add a special handler for links back to index.html
        document.addEventListener('click', function(e) {
            // Find clicked element
            let target = e.target;
            
            // Traverse up to find if a parent is a link to index.html
            while (target && target !== document) {
                if (target.tagName === 'A' && 
                    (target.href.endsWith('index.html') || 
                     target.href.endsWith('/') || 
                     target.href === window.location.origin + '/')) {
                    
                    // Prevent default navigation
                    e.preventDefault();
                    
                    // Set a flag to indicate we're navigating back
                    sessionStorage.setItem('navigatingBack', 'true');
                    
                    // Force a reload of the index page
                    window.location.href = target.href + '?refresh=' + new Date().getTime();
                    return;
                }
                target = target.parentNode;
            }
        });

        // Add a special handler for the back button
        window.addEventListener('popstate', function(event) {
            // If we're navigating back to index.html
            if (document.referrer.includes('index.html') || 
                document.referrer.endsWith('/') || 
                document.referrer === window.location.origin + '/') {
                
                // Set a flag to indicate we're navigating back
                sessionStorage.setItem('navigatingBack', 'true');
            }
        });
    </script>
</body>
</html> 